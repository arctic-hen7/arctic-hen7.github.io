<!DOCTYPE html><html lang=en-US class=light><head><base href=https://arctic-hen7.github.io/><meta charset=UTF-8><meta name=viewport content="width=device-width, initial-scale=1.0"><link rel=stylesheet href=.perseus/static/tailwind.css><script type=module>window.__PERSEUS_RENDER_CFG = `{"post/c26d230f-a546-4da0-be18-9857e168d7b9":"post","tag/css":"tag","tag/design":"tag","tag/ai":"tag","post/eede1692-be41-404a-93e8-d4b048db21bc":"post","post/496eb33a-c137-4afa-a03c-2f165d522a98":"post","tag/webdev":"tag","tag/project":"tag","tag/frameworks":"tag","tag/productivity":"tag","shortform":"shortform","tag/open-source-admin":"tag","":"","post/sotto":"post","tag/programming":"tag","tag/perseus":"tag","tag/rust":"tag","tag/overview":"tag","contact":"contact","tag/dev":"tag","tag/self-development":"tag","post/5633d380-fede-4c98-8c31-fc21610e4e5e":"post","tag/quickfix":"tag","post/bbb3e057-0f97-45a2-aa05-e791802fceee":"post","post/7adca2f7-ab95-41e1-8d0d-4bbc020ca018":"post","post/4726b90d-613e-4a45-b419-44cd6ec887a4":"post","tag/linux":"tag","about":"about","tag/tutorial":"tag","tag/economics":"tag","post/03ab02d7-f196-46d7-a1f9-d0c951245889":"post","tag/habits":"tag","tag/commentary":"tag","posts":"posts","tag/explanation":"tag"}`;

        import init from "https://arctic-hen7.github.io/.perseus/bundle.js";
        async function main() {
            await init("https://arctic-hen7.github.io/.perseus/bundle.wasm");
        }
        main();

        
        

window.__PERSEUS_GLOBAL_STATE = `{"motd":"\\"[W]e should be able to do anything, but want to do only what is good\\" — Montaigne 1.26\\n","woke_up_on_time":true}`;</script><meta itemprop=__perseus_head_boundary><title>Automation with Bonnie | The Arctic Circle</title><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.16.3/dist/katex.min.css><link rel=stylesheet href=.perseus/static/org.css><meta name=description content="How to automate repetitive tasks in your projects with Bonnie."><script>
window.__PERSEUS_INITIAL_STATE = `{"author":"Me","contents":"<p>\\nAs developers, we&rsquo;re faced with, generally speaking, three kinds of work: <b>problem solving</b>, <b>implementation</b>, and <b>mundane tasks</b>. Problem solving can be hard, but it&rsquo;s extremely rewarding. Implementing code is generally great, except that it inevitably generates problems for you to solve, but that&rsquo;s part of the joy!\\n</p>\\n\\n<p>\\nIn this post though, I want to focus on the third type of work we do &#x2013; mundane, repetitive tasks. This could be anything, like a long build command, typing the same sequence of commands over and over again, or banging your head against a wall when you try to read your own code six months later.\\n</p>\\n\\n<p>\\nBonnie is a tool I built a few months ago as my first ever project in <a href=\\"https://rust-lang.org\\">Rust</a>, and since then I&rsquo;ve made significant updates that have improved every facet of it. It was originally intended as a replacement for NPM scripts, the simple little command aliasing system many JavaScript developers will be familiar with. Problem is, Rust doesn&rsquo;t have that, nor do a lot of languages! Bonnie was designed to be a cross-platform system to enable command aliasing in any project, regardless of programming language!\\n</p>\\n\\n<p>\\nToday, Bonnie supports custom arguments to scripts, environment variable interpolation, subcommands, conditional command ordering, and so much more!\\n</p>\\n\\n<div id=\\"outline-container-org4e2ea6a\\" class=\\"outline-2\\">\\n<h2 id=\\"org4e2ea6a\\">Installing</h2>\\n<div class=\\"outline-text-2\\" id=\\"text-org4e2ea6a\\">\\n<p>\\nBonnie has pre-built binaries for Linux (and musl), MacOS, and Windows, which you can download from <a href=\\"https://github.com/arctic-hen7/bonnie/releases\\">here</a>. After downloading the right one, put it in a directory from which you can execute scripts, like <code>/usr/local/bin</code> on Linux.\\n</p>\\n\\n<p>\\nIf you&rsquo;re using Docker or a platform for which there&rsquo;s not a pre-built binary, check out the installation instructions on the homepage <a href=\\"https://github.com/arctic-hen7/bonnie\\">here</a>. If you&rsquo;d really like me to add a binary for another platform, open an issue on the project and I&rsquo;m happy to oblige!\\n</p>\\n</div>\\n</div>\\n\\n<div id=\\"outline-container-orge645ac7\\" class=\\"outline-2\\">\\n<h2 id=\\"orge645ac7\\">Setup</h2>\\n<div class=\\"outline-text-2\\" id=\\"text-orge645ac7\\">\\n<p>\\nOnce you can run Bonnie, make sure everything&rsquo;s working by running <code>bonnie -v</code>. You should see the version of Bonnie you&rsquo;re running. Bonnie will now work. If it doesn&rsquo;t, I&rsquo;ve stuffed up, and you should slap me in the face with a cold fish (or a GitHub issue).\\n</p>\\n</div>\\n</div>\\n\\n<div id=\\"outline-container-org19b1838\\" class=\\"outline-2\\">\\n<h2 id=\\"org19b1838\\">Writing scripts</h2>\\n<div class=\\"outline-text-2\\" id=\\"text-org19b1838\\">\\n<p>\\nSo, let&rsquo;s say you&rsquo;ve got a build script that&rsquo;s <i>really</i> long. Easy! Run <code>bonnie -i</code> to create a new configuration file in your current directory (assuming you&rsquo;re in your project&rsquo;s directory), and pop this into <code>bonnie.toml</code> underneath <code>[scripts]</code>, substituting in your build command.\\n</p>\\n\\n<div class=\\"org-src-container\\">\\n<pre class=\\"src src-toml\\"><span class=\\"org-variable-name\\">build</span> = <span class=\\"org-string\\">\\"super long build command...\\"</span>\\n</pre>\\n</div>\\n\\n<p>\\nCongrats! Now run <code>bonnie build</code> and your command should run! That&rsquo;s the beauty of Bonnie, <b>it gets out of your way and just works</b>.\\n</p>\\n\\n<p>\\nYou can repeat this process for as many things as you like, and Bonnie scripts can call other scripts easily! Every script will be executed as if you&rsquo;d run it in a terminal (PowerShell on Windows and <code>sh</code> on MacOS and Linux), so just add <code>bonnie command-here</code> into a script!\\n</p>\\n\\n<p>\\nIf you want to replicate the functionality of NPM scripts, where any extra arguments you give after the command name will be added to the end (e.g. <code>npm build blah blah</code> becomes <code>[build command] blah blah</code>), just add <code>%%</code> wherever in your command you want those arguments to be put (so you can put them at the end, the beginning, in the middle, anywhere!).\\n</p>\\n\\n<p>\\nBonnie will also let you change the shell it runs things in (so you could use <code>zsh</code> or <code>fish</code> instead), specify multi-stage commands (just provide an array!), or even add subcommands! If you&rsquo;re feeling adventurous, you could try out <a href=\\"https://github.com/arctic-hen7/bonnie/wiki/Getting-Started-with-Bones\\">Bones</a>, which lets you run subcommands one after the other in a custom order, with if statements based on the exit codes commands give out! All the details are in <a href=\\"https://github.com/arctic-hen7/bonnie/wiki\\">the wiki</a>!\\n</p>\\n</div>\\n</div>\\n\\n<div id=\\"outline-container-org8487e61\\" class=\\"outline-2\\">\\n<h2 id=\\"org8487e61\\">Final words</h2>\\n<div class=\\"outline-text-2\\" id=\\"text-org8487e61\\">\\n<p>\\nBonnie is a great tool for automating repetitive work, it&rsquo;s full of features, lightning-fast, and it just gets out of your way. Check it out on GitHub <a href=\\"https://github.com/arctic-hen7/bonnie\\">here</a>!\\n</p>\\n\\n<p>\\n<i>Note: I am the maintainer of Bonnie.</i>\\n</p>\\n</div>\\n</div>","date":"2021-08-12","description":"How to automate repetitive tasks in your projects with Bonnie.","id":"c26d230f-a546-4da0-be18-9857e168d7b9","series":null,"tags":["dev","overview"],"title":"Automation with Bonnie","toc":"<div id=\\"table-of-contents\\" role=\\"doc-toc\\">\\n\\n<div id=\\"text-table-of-contents\\" role=\\"doc-toc\\">\\n<ul>\\n<li><a href=\\"post/c26d230f-a546-4da0-be18-9857e168d7b9#org4e2ea6a\\">Installing</a></li>\\n<li><a href=\\"post/c26d230f-a546-4da0-be18-9857e168d7b9#orge645ac7\\">Setup</a></li>\\n<li><a href=\\"post/c26d230f-a546-4da0-be18-9857e168d7b9#org19b1838\\">Writing scripts</a></li>\\n<li><a href=\\"post/c26d230f-a546-4da0-be18-9857e168d7b9#org8487e61\\">Final words</a></li>\\n</ul>\\n</div>\\n</div>"}`;
window.__PERSEUS_INITIAL_WIDGET_STATES = `{}`;
window.__PERSEUS_TRANSLATIONS = ``;</script><meta itemprop=__perseus_head_end><script>//</script><body class="bg-black text-white"><div id=root><header data-hk=1.11 class="w-full mb-20 backdrop-blur-lg {}"><div data-hk=1.12 class="sm:p-2 flex justify-between xl:justify-center items-center"><a data-hk=1.13 class="justify-self-start self-center m-3 ml-5 text-lg sm:text-xl text-bold title-font"href=/>The Arctic Site</a><div data-hk=1.14 class="xl:w-[38rem] 2xl:w-[55rem] 3xl:w-[70rem]"></div><div data-hk=1.15 class="md:hidden m-3 mr-5 tham tham-e-spin tham-w-6"><div data-hk=1.16 class=tham-box><div data-hk=1.17 class="tham-inner bg-white"></div></div></div><nav data-hk=1.18 class="hidden md:flex"><ul data-hk=1.19 class="mr-5 flex"><li data-hk=2.0 class="m-3 p-1"><a data-hk=2.1 href>Home</a><li data-hk=2.2 class="m-3 p-1"><a data-hk=2.3 href=about>About</a><li data-hk=2.4 class="m-3 p-1"><a data-hk=2.5 href=posts>The Arctic Circle</a><li data-hk=2.6 class="m-3 p-1"><a data-hk=2.7 href=shortform>The Ice Floes</a></ul></nav></div><nav data-hk=1.20 id=mobile_nav_menu class="sm:p-2 md:hidden w-full text-center justify-center hidden"><ul data-hk=1.21 class=mr-5><li data-hk=3.0 class="m-3 p-1"><a data-hk=3.1 href>Home</a><li data-hk=3.2 class="m-3 p-1"><a data-hk=3.3 href=about>About</a><li data-hk=3.4 class="m-3 p-1"><a data-hk=3.5 href=posts>The Arctic Circle</a><li data-hk=3.6 class="m-3 p-1"><a data-hk=3.7 href=shortform>The Ice Floes</a></ul></nav></header><main data-hk=1.22 class="mt-14 xs:mt-16 sm:mt-20 lg:mt-24"><div data-hk=1.0 class="flex flex-col lg:flex-row-reverse justify-center items-center w-full px-4 sm:px-8 lg:px-10"><h1 data-hk=1.1 class="text-4xl my-3 lg:hidden">Automation with Bonnie</h1><nav data-hk=1.2 class="styled-prose lg:sticky self-start top-14 xs:top-16 sm:top-20 lg:top-24 max-w-md max-h-[63vh] overflow-y-auto border-l border-neutral-600 pl-4 lg:mx-4 py-3"><div data-hk=1.3 class=max-w-sm><div id=table-of-contents role=doc-toc><div id=text-table-of-contents role=doc-toc><ul><li><a href=post/c26d230f-a546-4da0-be18-9857e168d7b9#org4e2ea6a>Installing</a><li><a href=post/c26d230f-a546-4da0-be18-9857e168d7b9#orge645ac7>Setup</a><li><a href=post/c26d230f-a546-4da0-be18-9857e168d7b9#org19b1838>Writing scripts</a><li><a href=post/c26d230f-a546-4da0-be18-9857e168d7b9#org8487e61>Final words</a></ul></div></div></div></nav><div data-hk=1.4 class=min-w-0><h1 data-hk=1.5 class="text-4xl my-3 text-center hidden lg:block">Automation with Bonnie</h1><div data-hk=1.6 class="styled-prose lg:max-w-3xl xl:max-w-4xl 2xl:max-w-5xl min-w-0 min-h-0 mb-6"><p>As developers, we’re faced with, generally speaking, three kinds of work: <b>problem solving</b>, <b>implementation</b>, and <b>mundane tasks</b>. Problem solving can be hard, but it’s extremely rewarding. Implementing code is generally great, except that it inevitably generates problems for you to solve, but that’s part of the joy!<p>In this post though, I want to focus on the third type of work we do – mundane, repetitive tasks. This could be anything, like a long build command, typing the same sequence of commands over and over again, or banging your head against a wall when you try to read your own code six months later.<p>Bonnie is a tool I built a few months ago as my first ever project in <a href=https://rust-lang.org>Rust</a>, and since then I’ve made significant updates that have improved every facet of it. It was originally intended as a replacement for NPM scripts, the simple little command aliasing system many JavaScript developers will be familiar with. Problem is, Rust doesn’t have that, nor do a lot of languages! Bonnie was designed to be a cross-platform system to enable command aliasing in any project, regardless of programming language!<p>Today, Bonnie supports custom arguments to scripts, environment variable interpolation, subcommands, conditional command ordering, and so much more!<div id=outline-container-org4e2ea6a class=outline-2><h2 id=org4e2ea6a>Installing</h2><div class=outline-text-2 id=text-org4e2ea6a><p>Bonnie has pre-built binaries for Linux (and musl), MacOS, and Windows, which you can download from <a href=https://github.com/arctic-hen7/bonnie/releases>here</a>. After downloading the right one, put it in a directory from which you can execute scripts, like <code>/usr/local/bin</code> on Linux.<p>If you’re using Docker or a platform for which there’s not a pre-built binary, check out the installation instructions on the homepage <a href=https://github.com/arctic-hen7/bonnie>here</a>. If you’d really like me to add a binary for another platform, open an issue on the project and I’m happy to oblige!</div></div><div id=outline-container-orge645ac7 class=outline-2><h2 id=orge645ac7>Setup</h2><div class=outline-text-2 id=text-orge645ac7><p>Once you can run Bonnie, make sure everything’s working by running <code>bonnie -v</code>. You should see the version of Bonnie you’re running. Bonnie will now work. If it doesn’t, I’ve stuffed up, and you should slap me in the face with a cold fish (or a GitHub issue).</div></div><div id=outline-container-org19b1838 class=outline-2><h2 id=org19b1838>Writing scripts</h2><div class=outline-text-2 id=text-org19b1838><p>So, let’s say you’ve got a build script that’s <i>really</i> long. Easy! Run <code>bonnie -i</code> to create a new configuration file in your current directory (assuming you’re in your project’s directory), and pop this into <code>bonnie.toml</code> underneath <code>[scripts]</code>, substituting in your build command.<div class=org-src-container><pre class="src src-toml"><span class=org-variable-name>build</span> = <span class=org-string>"super long build command..."</span>
</pre></div><p>Congrats! Now run <code>bonnie build</code> and your command should run! That’s the beauty of Bonnie, <b>it gets out of your way and just works</b>.<p>You can repeat this process for as many things as you like, and Bonnie scripts can call other scripts easily! Every script will be executed as if you’d run it in a terminal (PowerShell on Windows and <code>sh</code> on MacOS and Linux), so just add <code>bonnie command-here</code> into a script!<p>If you want to replicate the functionality of NPM scripts, where any extra arguments you give after the command name will be added to the end (e.g. <code>npm build blah blah</code> becomes <code>[build command] blah blah</code>), just add <code>%%</code> wherever in your command you want those arguments to be put (so you can put them at the end, the beginning, in the middle, anywhere!).<p>Bonnie will also let you change the shell it runs things in (so you could use <code>zsh</code> or <code>fish</code> instead), specify multi-stage commands (just provide an array!), or even add subcommands! If you’re feeling adventurous, you could try out <a href=https://github.com/arctic-hen7/bonnie/wiki/Getting-Started-with-Bones>Bones</a>, which lets you run subcommands one after the other in a custom order, with if statements based on the exit codes commands give out! All the details are in <a href=https://github.com/arctic-hen7/bonnie/wiki>the wiki</a>!</div></div><div id=outline-container-org8487e61 class=outline-2><h2 id=org8487e61>Final words</h2><div class=outline-text-2 id=text-org8487e61><p>Bonnie is a great tool for automating repetitive work, it’s full of features, lightning-fast, and it just gets out of your way. Check it out on GitHub <a href=https://github.com/arctic-hen7/bonnie>here</a>!<p><i>Note: I am the maintainer of Bonnie.</i></div></div></div></div></div><div data-hk=1.7 class="flex flex-col items-center w-full"><ul data-hk=1.8 class="flex justify-center text-center mt-4"><li data-hk=0.0 class=inline-block><a data-hk=0.1 class="block border-4 border-neutral-800 hover:bg-neutral-800 transition-colors duration-150 rounded-lg p-2 px-4 m-2 font-mono flex items-center"href=tag/dev>dev</a><li data-hk=0.2 class=inline-block><a data-hk=0.3 class="block border-4 border-neutral-800 hover:bg-neutral-800 transition-colors duration-150 rounded-lg p-2 px-4 m-2 font-mono flex items-center"href=tag/overview>overview</a></ul><div data-hk=1.9 class="max-w-prose px-4 mt-8 giscus"></div></div><script data-hk=1.10 src=https://giscus.app/client.js data-repo=arctic-hen7/arctic-hen7.github.io data-repo-id=MDEwOlJlcG9zaXRvcnkzNjc4MTc5Njk= data-category=Comments data-category-id=DIC_kwDOFex08c4CSjuT data-mapping=pathname data-strict=0 data-reactions-enabled=1 data-emit-metadata=0 data-input-position=top data-theme=dark_high_contrast data-lang=en data-loading=lazy crossorigin async></script></main><footer data-hk=1.23 class="w-full flex justify-center py-5 bg-black"><p data-hk=1.24 class="mx-5 text-center">© arctic-hen7 2021-2022</footer></div><div id=__perseus_popup_error></div>